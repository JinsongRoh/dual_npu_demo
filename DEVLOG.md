# ê°œë°œ ë¡œê·¸ (Development Log)

> **ëª©ì **: AI ê°œë°œ ë„ìš°ë¯¸ì™€ì˜ ëŒ€í™”ê°€ ì¤‘ë‹¨ë˜ë”ë¼ë„ ê°œë°œ ì—°ì†ì„±ì„ ìœ ì§€í•˜ê¸° ìœ„í•œ ë¡œê·¸ íŒŒì¼
>
> **ì‚¬ìš©ë²•**: ìƒˆë¡œìš´ ëŒ€í™” ì‹œìž‘ ì‹œ ì´ íŒŒì¼ì„ ì°¸ì¡°í•˜ì—¬ ì´ì „ ê°œë°œ ë‚´ìš©ì„ ì´ì–´ì„œ ì§„í–‰

---

## í”„ë¡œì íŠ¸ ì •ë³´

| í•­ëª© | ë‚´ìš© |
|------|------|
| **í”„ë¡œì íŠ¸ëª…** | Production Dual NPU Application |
| **ê°œë°œì‚¬** | MetaVu Co., Ltd. |
| **ê°œë°œìž** | JINSONG ROH |
| **ì´ë©”ì¼** | enjoydays@metavu.io |
| **í™ˆíŽ˜ì´ì§€** | www.metavu.io |
| **ê°œë°œ ì‹œìž‘ì¼** | 2025ë…„ 12ì›” 26ì¼ |
| **í˜„ìž¬ ë²„ì „** | 1.0.0 |

---

## í•µì‹¬ íŒŒì¼ êµ¬ì¡°

```
/home/orangepi/dual_npu_demo/
â”œâ”€â”€ production_app.py          # ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ (148KB, 3700+ lines)
â”œâ”€â”€ rk3588_vlm_server.py       # RK3588 ë¡œì»¬ VLM API ì„œë²„
â”œâ”€â”€ README.md                  # í”„ë¡œì íŠ¸ ë¬¸ì„œ
â”œâ”€â”€ DEVLOG.md                  # ê°œë°œ ë¡œê·¸ (ì´ íŒŒì¼)
â”œâ”€â”€ .dev.vars                  # API í‚¤ ì„¤ì • íŒŒì¼
â”œâ”€â”€ .gitignore                 # Git ì œì™¸ íŒŒì¼ ì„¤ì •
â”œâ”€â”€ run_production.sh          # ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ backup.sh              # íƒ€ìž„ìŠ¤íƒ¬í”„ ë°±ì—… ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ rollback.sh            # ë²„ì „ ë¡¤ë°± ìŠ¤í¬ë¦½íŠ¸
â”‚   â””â”€â”€ version_manager.sh     # í†µí•© ë²„ì „ ê´€ë¦¬ ë„êµ¬
â””â”€â”€ backups/                   # ë°±ì—… í´ë” (ë²„ì „ë³„ ë°±ì—…)
```

---

## ê°œë°œ ì´ë ¥

### [2025-12-31] v1.5.0 - VLM ê¸°ë°˜ ê°ì • ë¶„ì„ ê¸°ëŠ¥ ì¶”ê°€

#### ì™„ë£Œëœ ê¸°ëŠ¥

17. **VLM ê°ì • ë¶„ì„ (EmotionAnalyzerThread)**
    - íŒŒì¼: `production_app.py` (3294-3400ì¤„)
    - ì„¤ëª…: RK3588 VLMì„ í™œìš©í•œ ì–¼êµ´ ê°ì • ë¶„ì„
    - íŠ¹ì§•:
      - Qwen2.5-VL-3B ëª¨ë¸ ì‚¬ìš©
      - 7ê°€ì§€ ê°ì • ë¶„ë¥˜: happy, sad, angry, surprised, neutral, fear, disgust
      - 5ì´ˆ ê°„ê²© ì£¼ê¸°ì  ë¶„ì„ (ë¦¬ì†ŒìŠ¤ íš¨ìœ¨í™”)
      - ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œì—ì„œ ë¹„ë™ê¸° ì²˜ë¦¬
      - ê°ì • ê²°ê³¼ ìºì‹±ìœ¼ë¡œ ì‹¤ì‹œê°„ í‘œì‹œ
    - ë©”ì„œë“œ:
      - `analyze_emotion_vlm()`: VLMìœ¼ë¡œ ì–¼êµ´ ê°ì • ë¶„ì„
      - `EmotionAnalyzerThread`: ë°±ê·¸ë¼ìš´ë“œ ë¶„ì„ ìŠ¤ë ˆë“œ
      - `on_emotion_ready()`: ë¶„ì„ ì™„ë£Œ ì½œë°±
    - UI í‘œì‹œ:
      - ë°”ìš´ë”© ë°•ìŠ¤ì— "Face 1 (Neutral)" í˜•ì‹ìœ¼ë¡œ í‘œì‹œ
      - ìƒíƒœ ë°”ì— ê°ì • ì •ë³´ í‘œì‹œ

#### ê¸°ìˆ  êµ¬í˜„
- ì–¼êµ´ í¬ë¡­ í›„ Base64 ì¸ì½”ë”©
- VLM í”„ë¡¬í”„íŠ¸: ë‹¨ì¼ ê°ì • ë‹¨ì–´ë§Œ ì‘ë‹µí•˜ë„ë¡ ì§€ì‹œ
- ì‘ë‹µ íŒŒì‹±: 7ê°€ì§€ ê°ì • í‚¤ì›Œë“œ ë§¤ì¹­
- ê°€ìž¥ í° ì–¼êµ´ë§Œ ë¶„ì„ (ë‹¤ì¤‘ ì–¼êµ´ ì‹œ ë¦¬ì†ŒìŠ¤ ì ˆì•½)

---

### [2025-12-31] v1.4.0 - ì–¼êµ´ ê²€ì¶œ ê¸°ëŠ¥ ì¶”ê°€

#### ì™„ë£Œëœ ê¸°ëŠ¥

16. **DXM1FaceDetector í´ëž˜ìŠ¤ êµ¬í˜„**
    - íŒŒì¼: `production_app.py` (3172-3292ì¤„)
    - ì„¤ëª…: OpenCV Haar Cascade ê¸°ë°˜ ì–¼êµ´ ê²€ì¶œ
    - íŠ¹ì§•:
      - BSD ë¼ì´ì„ ìŠ¤ (ìƒì—…ì  ì‚¬ìš© ê°€ëŠ¥)
      - CPU ê¸°ë°˜ ì‹¤ì‹œê°„ ê²€ì¶œ
      - ë‹¤ì¤‘ ì–¼êµ´ ë™ì‹œ ê²€ì¶œ ì§€ì›
      - ì–¼êµ´ë³„ ìƒ‰ìƒ êµ¬ë¶„ ë°”ìš´ë”© ë°•ìŠ¤
    - UI ì—°ë™:
      - ðŸ˜Š Face/Emotion ë²„íŠ¼ í´ë¦­ìœ¼ë¡œ í™œì„±í™”
      - "Face Detection ON" ëª¨ë“œ í‘œì‹œ
      - ê²€ì¶œëœ ì–¼êµ´ ìˆ˜ ì‹¤ì‹œê°„ í‘œì‹œ

#### í–¥í›„ ê³„íš
- ~~ê°ì • ì¸ì‹ ê¸°ëŠ¥ ì¶”ê°€ (VLM ì—°ë™ ë˜ëŠ” ë³„ë„ ëª¨ë¸)~~ âœ… v1.5.0ì—ì„œ ì™„ë£Œ
- DX-M1 NPU ê¸°ë°˜ ì–¼êµ´ ê²€ì¶œ ëª¨ë¸ ë³€í™˜ (SCRFD)

---

### [2025-12-30] v1.3.1 - ë¼ì´ì„ ìŠ¤ ê·œì¹™ ì ìš© ë° í¬ì¦ˆ ê¸°ëŠ¥ ë¹„í™œì„±í™”

#### ì£¼ìš” ë³€ê²½ì‚¬í•­

14. **YOLOv5Pose ë¼ì´ì„ ìŠ¤ ì´ìŠˆ ëŒ€ì‘**
    - íŒŒì¼: `production_app.py`
    - ë¬¸ì œ: YOLOv5Pose ëª¨ë¸ì´ AGPL-3.0 ë¼ì´ì„ ìŠ¤ë¡œ ìƒì—…ì  ì‚¬ìš©ì— ì œì•½
    - ì¡°ì¹˜:
      - Pose/Gesture ë²„íŠ¼ í´ë¦­ ì‹œ ë¼ì´ì„ ìŠ¤ ê²½ê³  ë©”ì‹œì§€ í‘œì‹œ
      - ë²„íŠ¼ ìŠ¤íƒ€ì¼ì„ ë¹„í™œì„±í™” ìƒíƒœë¡œ ë³€ê²½ (ì–´ë‘ìš´ ìƒ‰ìƒ)
      - íˆ´íŒì— ë¼ì´ì„ ìŠ¤ ë¬¸ì œ ì•ˆë‚´ ì¶”ê°€
    - ëŒ€ì•ˆ ëª¨ë¸ (DX-M1 ë³€í™˜ í•„ìš”):
      - YOLOX-Pose (Apache 2.0)
      - RTMPose / MMPose (Apache 2.0)
      - MediaPipe Pose (Apache 2.0)

15. **ê°œë°œ ì§€ì¹¨ì„œ ë¼ì´ì„ ìŠ¤ ê·œì¹™ ì¶”ê°€**
    - íŒŒì¼: `DEV_GUIDELINES.md`
    - ìƒˆ ì„¹ì…˜: 0.7 AI ëª¨ë¸ ë¼ì´ì„ ìŠ¤ ê·œì¹™
    - ë‚´ìš©:
      - í—ˆìš© ë¼ì´ì„ ìŠ¤: Apache 2.0, MIT, BSD-3-Clause
      - ê¸ˆì§€ ë¼ì´ì„ ìŠ¤: AGPL-3.0, GPL-3.0, CC BY-NC
      - ëª¨ë¸ë³„ ë¼ì´ì„ ìŠ¤ í˜„í™© í‘œ
      - ëª¨ë¸ ì‚¬ìš© ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸

---

### [2025-12-30] v1.3.0 - ì œìŠ¤ì²˜ ì¸ì‹ ê¸°ëŠ¥ ì¶”ê°€

#### ì™„ë£Œëœ ê¸°ëŠ¥

11. **DX-M1 ê°ì§€ ëª¨ë“œ ì „í™˜ ì‹œìŠ¤í…œ**
    - íŒŒì¼: `production_app.py`
    - ì„¤ëª…: DX-M1 NPUì˜ ê°ì§€ ê¸°ëŠ¥ì„ ì¼œê³  ëŒ ìˆ˜ ìžˆëŠ” ëª¨ë“œ ì „í™˜ ì‹œìŠ¤í…œ
    - ì§€ì› ëª¨ë“œ:
      | ëª¨ë“œ | ì„¤ëª… | ëª¨ë¸ |
      |------|------|------|
      | Camera Only | ê°ì§€ ì—†ìŒ, ì‹¤ì‹œê°„ ì˜ìƒë§Œ | - |
      | Object | ê°ì²´ ê°ì§€ (80 í´ëž˜ìŠ¤) | YOLOX-S |
      | Pose/Gesture | í¬ì¦ˆ ë° ì œìŠ¤ì²˜ ê°ì§€ (ë¹„í™œì„±í™”) | YOLOv5Pose (AGPL) |
      | Face/Emotion | ì–¼êµ´/ê°ì • ë¶„ì„ (ì¤€ë¹„ì¤‘) | - |
    - UI: ë¹„ë””ì˜¤ íŒ¨ë„ ìƒë‹¨ì— ëª¨ë“œ ì „í™˜ ë²„íŠ¼ ì¶”ê°€

12. **DXM1PoseDetector í´ëž˜ìŠ¤** (ë¹„í™œì„±í™”ë¨ - ë¼ì´ì„ ìŠ¤ ë¬¸ì œ)
    - íŒŒì¼: `production_app.py` (2886-3169ì¤„)
    - ì„¤ëª…: YOLOv5Pose ëª¨ë¸ì„ ì‚¬ìš©í•œ í¬ì¦ˆ ì¶”ì •
    - ê¸°ëŠ¥:
      - 17ê°œ COCO í‚¤í¬ì¸íŠ¸ ê°ì§€
      - ìŠ¤ì¼ˆë ˆí†¤ ì‹œê°í™” (ìƒ‰ìƒë³„ ë¶€ìœ„ êµ¬ë¶„)
      - ì œìŠ¤ì²˜ ì¸ì‹ ì—°ë™
    - ëª¨ë¸: `/home/orangepi/model_for_demo/YOLOv5Pose640_1.dxnn`
    - **ìƒíƒœ**: AGPL-3.0 ë¼ì´ì„ ìŠ¤ ë¬¸ì œë¡œ ë¹„í™œì„±í™”

13. **GestureRecognizer í´ëž˜ìŠ¤** (ë¹„í™œì„±í™”ë¨ - ë¼ì´ì„ ìŠ¤ ë¬¸ì œ)
    - íŒŒì¼: `production_app.py` (2636-2883ì¤„)
    - ì„¤ëª…: í‚¤í¬ì¸íŠ¸ ê¸°ë°˜ ì œìŠ¤ì²˜ ì¸ì‹
    - ì§€ì› ì œìŠ¤ì²˜ (8ê°€ì§€):
      | ì œìŠ¤ì²˜ | ì„¤ëª… |
      |--------|------|
      | hands_up | ì–‘ì† ë“¤ê¸° |
      | left_hand_up | ì™¼ì† ë“¤ê¸° |
      | right_hand_up | ì˜¤ë¥¸ì† ë“¤ê¸° |
      | waving | ì† í”ë“¤ê¸° |
      | t_pose | T í¬ì¦ˆ |
      | pointing_left | ì™¼ìª½ ê°€ë¦¬í‚¤ê¸° |
      | pointing_right | ì˜¤ë¥¸ìª½ ê°€ë¦¬í‚¤ê¸° |
      | arms_crossed | íŒ”ì§± ë¼ê¸° |
    - íŠ¹ì§•:
      - ì œìŠ¤ì²˜ ížˆìŠ¤í† ë¦¬ ê¸°ë°˜ ì•ˆì •í™”
      - ì†ëª© ì›€ì§ìž„ ë¶„ì„ìœ¼ë¡œ í”ë“¤ê¸° ê°ì§€
    - **ìƒíƒœ**: YOLOv5Pose ì˜ì¡´ìœ¼ë¡œ ë¹„í™œì„±í™”

---

### [2025-12-29] v1.2.1 - ì˜¤ë””ì˜¤ ì‹œìŠ¤í…œ ì„¤ì • ì™„ë£Œ

#### ì™„ë£Œëœ ê¸°ëŠ¥

10. **TTS ì˜¤ë””ì˜¤ ì¶œë ¥ ì‹œìŠ¤í…œ êµ¬ì„±**
    - íŒŒì¼: `production_app.py`, `~/.asoundrc`, `~/.config/pulse/default.pa`
    - ì„¤ëª…: OpenAI TTS API ìŒì„± ì¶œë ¥ì„ ìœ„í•œ ì˜¤ë””ì˜¤ ì‹œìŠ¤í…œ ì™„ì „ êµ¬ì„±
    - ì„¤ì • ë‚´ìš©:
      | í•­ëª© | ì„¤ì • |
      |------|------|
      | ì¶œë ¥ ìž¥ì¹˜ | HDMI1 (hw:2,0) - HDMI2 í¬íŠ¸ ì—°ê²° |
      | ìž…ë ¥ ìž¥ì¹˜ | Microsoft LifeCam HD-3000 USB ë§ˆì´í¬ |
      | ìƒ˜í”Œë ˆì´íŠ¸ | 48000Hz |
      | ì±„ë„ | ëª¨ë…¸â†’ìŠ¤í…Œë ˆì˜¤ ë³€í™˜ |
    - êµ¬í˜„ ë‚´ìš©:
      - sounddevice ìž¥ì¹˜ ì´ë¦„ ê¸°ë°˜ ì„¤ì • (ì¸ë±ìŠ¤ ë³€ê²½ ëŒ€ì‘)
        ```python
        sd.default.device = ('LifeCam', 'rockchip-hdmi1')
        sd.default.samplerate = 48000
        ```
      - PulseAudio ê¸°ë³¸ ì¶œë ¥ HDMI1 ì„¤ì • (`~/.config/pulse/default.pa`)
      - autostart ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€ (`~/.config/autostart/audio-setup.desktop`)
      - ALSA dmix ì„¤ì • ì¶”ê°€ (`~/.asoundrc`) - ë™ì‹œ ìž¬ìƒ ì§€ì›
    - ì°¸ê³ :
      - ìž¥ì¹˜ ì¸ë±ìŠ¤ëŠ” ìž¬ë¶€íŒ… ì‹œ ë³€ê²½ë  ìˆ˜ ìžˆì–´ ì´ë¦„ ê¸°ë°˜ ë§¤ì¹­ ì‚¬ìš©
      - ì¼ë°˜ì ìœ¼ë¡œ ì˜¤ë””ì˜¤ í¬ì»¤ìŠ¤ ì •ì±…ì— ë”°ë¼ í•œ ë²ˆì— í•˜ë‚˜ì˜ ì•±ë§Œ ìž¬ìƒ

---

### [2025-12-28] v1.2.0 - RK3588 VLM ì§ì ‘ NPU ì¶”ë¡ 

#### ì™„ë£Œëœ ê¸°ëŠ¥

9. **RK3588 NPU ì§ì ‘ VLM ì¶”ë¡  ì—°ë™**
   - íŒŒì¼: `production_app.py`, `rkllm_binding.py`, `ztu_somemodelruntime_rknnlite2.py`
   - ì„¤ëª…: HTTP API ì„œë²„ ì—†ì´ RK3588 NPUì—ì„œ ì§ì ‘ VLM ì¶”ë¡  ìˆ˜í–‰
   - ëª¨ë¸: Qwen2.5-VL-3B-Instruct-RKLLM (4.95GB)
   - êµ¬í˜„ ë‚´ìš©:
     - `RK3588LocalVLM` ì‹±ê¸€í†¤ í´ëž˜ìŠ¤ ì¶”ê°€
     - Vision Encoder (RKNN) + LLM (RKLLM) í†µí•©
     - ì§€ì—° ë¡œë”© (ì²« ì§ˆë¬¸ ì‹œ ëª¨ë¸ ë¡œë“œ)
   - ì„±ëŠ¥:
     - ì²« ì¶”ë¡ : ~100ì´ˆ (ëª¨ë¸ ë¡œë”© í¬í•¨)
     - ì´í›„ ì¶”ë¡ : ~10-15ì´ˆ (Vision 4ì´ˆ + LLM ìƒì„±)

---

### [2025-12-28] v1.1.0 - RK3588 ë¡œì»¬ VLM ì§€ì›

#### ì™„ë£Œëœ ê¸°ëŠ¥

8. **RK3588 ë¡œì»¬ VLM ëª¨ë¸ ì§€ì›**
   - íŒŒì¼: `rk3588_vlm_server.py` (ì‹ ê·œ), `production_app.py`
   - ì„¤ëª…: RK3588 NPUì—ì„œ ë¡œì»¬ë¡œ ì‹¤í–‰ë˜ëŠ” Vision-Language Model ì§€ì›
   - ì§€ì› ëª¨ë¸ (9ì¢…):
     - Qwen2-VL-2B, Qwen2.5-VL-3B, Qwen3-VL-2B
     - MiniCPM-V-2.6
     - InternVL2-1B, InternVL3-1B
     - Janus-Pro-1B, SmolVLM, DeepSeek-OCR
   - ê¸°ëŠ¥:
     - FastAPI ê¸°ë°˜ OpenAI í˜¸í™˜ API ì„œë²„
     - RKLLM/RKLLAMA ëŸ°íƒ€ìž„ í†µí•©
     - API í‚¤ ì—†ì´ ë¡œì»¬ì—ì„œ ë¬´ë£Œ ì‹¤í–‰
   - ì‚¬ìš©ë²•:
     ```bash
     # VLM ì„œë²„ ì‹œìž‘
     python3 rk3588_vlm_server.py --port 8088

     # ë˜ëŠ” RKLLAMA ì„œë²„
     rkllama_server --models ~/rkllm_models
     ```

---

### [2025-12-28] v1.0.0 - ì´ˆê¸° ë¦´ë¦¬ìŠ¤

#### ì™„ë£Œëœ ê¸°ëŠ¥

1. **ë‹¤ì¤‘ ì¸ë¬¼ ì¸ì‹ ìƒ‰ìƒ êµ¬ë¶„**
   - íŒŒì¼: `production_app.py`
   - ìœ„ì¹˜: `PERSON_COLORS` ë³€ìˆ˜ ë° `draw_boxes()` í•¨ìˆ˜
   - ì„¤ëª…: ìµœëŒ€ 10ëª…ê¹Œì§€ ê°ê¸° ë‹¤ë¥¸ ìƒ‰ìƒìœ¼ë¡œ ë°”ìš´ë”© ë°•ìŠ¤ í‘œì‹œ
   - ìƒ‰ìƒ: Green, Blue, Red, Cyan, Magenta, Yellow, Orange, Purple, Spring Green, Light Coral

2. **ë‹¤êµ­ì–´ UI ì§€ì› (10ê°œ ì–¸ì–´)**
   - íŒŒì¼: `production_app.py`
   - ìœ„ì¹˜: `UI_LANGUAGES`, `UI_TRANSLATIONS`, `get_text()` í•¨ìˆ˜
   - ì§€ì› ì–¸ì–´: í•œêµ­ì–´, English, æ—¥æœ¬èªž, ä¸­æ–‡, EspaÃ±ol, FranÃ§ais, Deutsch, PortuguÃªs, Ð ÑƒÑÑÐºÐ¸Ð¹, Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
   - ì„¤ì • ë‹¤ì´ì–¼ë¡œê·¸ì—ì„œ ì–¸ì–´ ë³€ê²½ ê°€ëŠ¥

3. **ë¹ ë¥¸ ë²„íŠ¼ í”„ë¡¬í”„íŠ¸ ë‹¤êµ­ì–´ ì§€ì›**
   - íŒŒì¼: `production_app.py`
   - ìœ„ì¹˜: `quick_btn_data` ë° ë²„íŠ¼ í´ë¦­ í•¸ë“¤ëŸ¬
   - ì„¤ëª…: "ë­ê°€ ë³´ì—¬?", "ë¶„ì„í•´ì¤˜", "ì„¤ëª…í•´ì¤˜" ë²„íŠ¼ì´ ì„ íƒëœ UI ì–¸ì–´ë¡œ í”„ë¡¬í”„íŠ¸ ìž…ë ¥

4. **LLM ì‘ë‹µ ì–¸ì–´ ë™ê¸°í™”**
   - íŒŒì¼: `production_app.py`
   - ìœ„ì¹˜: `LLMWorker.run()` ë©”ì„œë“œì˜ vision_prompt êµ¬ì„±ë¶€
   - ì„¤ëª…: UI ì–¸ì–´ ì„¤ì •ì— ë”°ë¼ LLMì´ í•´ë‹¹ ì–¸ì–´ë¡œ ì‘ë‹µ

5. **ì±„íŒ… ë‚´ìš© ìœ ì§€ (ì–¸ì–´ ë³€ê²½ ì‹œ)**
   - íŒŒì¼: `production_app.py`
   - ìœ„ì¹˜: `self.chat_has_messages` í”Œëž˜ê·¸, `apply_translations()` ë©”ì„œë“œ
   - ì„¤ëª…: UI ì–¸ì–´ ë³€ê²½ ì‹œ ê¸°ì¡´ ëŒ€í™” ë‚´ìš© ë³´ì¡´

6. **ê¸°ë³¸ LLM ëª¨ë¸ ì„¤ì •**
   - íŒŒì¼: `production_app.py`
   - ìœ„ì¹˜: `LLMWorker.__init__()`, `model_combo.setCurrentText()`
   - ê¸°ë³¸ê°’: Claude Sonnet

7. **ìƒì„¸ ì£¼ì„ ì¶”ê°€**
   - ì „ì²´ ì½”ë“œì— í•œêµ­ì–´ ì£¼ì„ ì¶”ê°€
   - íŒŒì¼ í—¤ë”ì— ê°œë°œìž ì •ë³´ í¬í•¨

---

## í˜„ìž¬ ì•„í‚¤í…ì²˜

### ì£¼ìš” í´ëž˜ìŠ¤

| í´ëž˜ìŠ¤ëª… | ì—­í•  |
|----------|------|
| `VisionLLMClient` | Vision LLM API í†µí•© í´ë¼ì´ì–¸íŠ¸ (Gemini, Claude, GPT-4o, Groq) |
| `DXM1Detector` | DeepX DX-M1 NPU ê¸°ë°˜ ê°ì²´ ê°ì§€ |
| `LLMWorker` | QThread ê¸°ë°˜ LLM ìš”ì²­ ì²˜ë¦¬ ì›Œì»¤ |
| `ProductionApp` | ë©”ì¸ PyQt5 ì• í”Œë¦¬ì¼€ì´ì…˜ (QMainWindow) |

### ì£¼ìš” ê¸°ëŠ¥ íë¦„

```
ì¹´ë©”ë¼ ìž…ë ¥ â†’ DXM1Detector(NPU ì¶”ë¡ ) â†’ ê°ì²´ ê°ì§€ ê²°ê³¼
                                          â†“
                                    draw_boxes() â†’ í™”ë©´ í‘œì‹œ
                                          â†“
                        ì‚¬ìš©ìž ì§ˆë¬¸ â†’ LLMWorker â†’ VisionLLMClient â†’ LLM API
                                          â†“
                                    ì‘ë‹µ í‘œì‹œ + TTS ìž¬ìƒ
```

### API í‚¤ ì„¤ì • (.dev.vars)

```bash
GEMINI_API_KEY=your_key
ANTHROPIC_API_KEY=your_key
OPENAI_API_KEY=your_key
GROQ_API_KEY=your_key
```

---

## ì•Œë ¤ì§„ ì´ìŠˆ

| ì´ìŠˆ | ìƒíƒœ | ë¹„ê³  |
|------|------|------|
| libGL error (rockchip driver) | ë¬´ì‹œ ê°€ëŠ¥ | ê¸°ëŠ¥ì— ì˜í–¥ ì—†ìŒ |
| ALSA underrun warning | ë¬´ì‹œ ê°€ëŠ¥ | ì˜¤ë””ì˜¤ ë²„í¼ ê´€ë ¨, ê°„í—ì  ë°œìƒ |
| OpenAI stream deprecation warning | ë¬´ì‹œ ê°€ëŠ¥ | ê¸°ëŠ¥ ì •ìƒ ë™ìž‘ |

---

## ë‹¤ìŒ ê°œë°œ ê³„íš (TODO)

- [ ] ê°ì²´ ì¸ì‹ ëª¨ë¸ ì¶”ê°€ (YOLOv9 ë“±)
- [ ] ì œìŠ¤ì²˜ ì¸ì‹ ê¸°ëŠ¥
- [ ] ì–¼êµ´ ì¸ì‹ ë° ê°ì • ë¶„ì„
- [ ] ìŒì„± ëª…ë ¹ ì¸ì‹ ê°œì„ 
- [ ] ë‹¤ì¤‘ ì¹´ë©”ë¼ ì§€ì›

---

## ê°œë°œ í™˜ê²½

| í•­ëª© | ë²„ì „/ì‚¬ì–‘ |
|------|-----------|
| í•˜ë“œì›¨ì–´ | Orange Pi 5B (RK3588 SoC) |
| NPU | DeepX DX-M1 (USB ì—°ê²°) |
| OS | Linux 6.1.43-rockchip-rk3588 |
| Python | 3.x |
| PyQt5 | 5.x |
| ì¹´ë©”ë¼ | USB ì›¹ìº  (/dev/video0) |

---

## ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ

### ë²„ì „ ê´€ë¦¬ ë„êµ¬ ì‚¬ìš©ë²•

```bash
# í†µí•© ë²„ì „ ê´€ë¦¬ ë„êµ¬ ì‹¤í–‰ (ë©”ë‰´ ë°©ì‹)
./scripts/version_manager.sh

# ë¹ ë¥¸ ë°±ì—… ìƒì„±
./scripts/backup.sh

# ì´ì „ ë²„ì „ìœ¼ë¡œ ë¡¤ë°±
./scripts/rollback.sh
```

### ë²„ì „ ê´€ë¦¬ ë„êµ¬ ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| ë°±ì—… ìƒì„± | íƒ€ìž„ìŠ¤íƒ¬í”„ ê¸°ë°˜ ë°±ì—… íŒŒì¼ ìƒì„± |
| ë°±ì—… ëª©ë¡ | ì €ìž¥ëœ ëª¨ë“  ë°±ì—… íŒŒì¼ í™•ì¸ |
| ë²„ì „ ë¡¤ë°± | ì„ íƒí•œ ë°±ì—… ë²„ì „ìœ¼ë¡œ ë³µì› |
| ë²„ì „ ë¹„êµ | í˜„ìž¬ íŒŒì¼ê³¼ ë°±ì—… íŒŒì¼ diff ë¹„êµ |
| Git ì»¤ë°‹ | í˜„ìž¬ ë³€ê²½ì‚¬í•­ Git ì»¤ë°‹ |
| Git ë¡œê·¸ | ì»¤ë°‹ ì´ë ¥ í™•ì¸ |
| Git ë¡¤ë°± | íŠ¹ì • Git ì»¤ë°‹ìœ¼ë¡œ ë³µì› |
| ì˜¤ëž˜ëœ ë°±ì—… ì •ë¦¬ | 30ì¼ ì´ìƒ ëœ ë°±ì—… ìžë™ ì‚­ì œ |

### Git ì»¤ë°‹ ì´ë ¥

| ì»¤ë°‹ | ë‚ ì§œ | ì„¤ëª… |
|------|------|------|
| 21c39c7 | 2025-12-28 | RK3588 ë¡œì»¬ VLM ëª¨ë¸ ì§€ì› ì¶”ê°€ |
| 83ee4a1 | 2025-12-28 | ê°œë°œ ì§€ì¹¨ì„œ ë° ë³´ì•ˆ ì‹œìŠ¤í…œ ì¶”ê°€ |
| b7d555d | 2025-12-28 | ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ ì¶”ê°€ |
| d65c512 | 2025-12-28 | v1.0.0: Initial commit |

### ë°±ì—… íŒŒì¼

| íŒŒì¼ëª… | ë‚ ì§œ | ì„¤ëª… |
|--------|------|------|
| `production_app_v20251228_201147.py` | 2025-12-28 20:11 | RK3588 ë¡œì»¬ VLM ëª¨ë¸ ì§€ì› ì¶”ê°€ |
| `production_app_v20251228_194309.py` | 2025-12-28 19:43 | ìžë™ì„¤ëª… ë‹¤êµ­ì–´ ì§€ì› ì¶”ê°€ |
| `production_app_v20251228_190036.py` | 2025-12-28 19:00 | ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ ì¶”ê°€ í›„ |
| `production_app_backup_20251228_183819.py` | 2025-12-28 18:38 | ì£¼ì„ ì¶”ê°€ ì „ ë°±ì—… |

### ê¸´ê¸‰ ë³µêµ¬ ë°©ë²•

```bash
# ë°©ë²• 1: ë°±ì—… íŒŒì¼ì—ì„œ ë³µì›
cp backups/production_app_v{ì›í•˜ëŠ”ë²„ì „}.py production_app.py

# ë°©ë²• 2: Gitì—ì„œ ë³µì›
git checkout {ì»¤ë°‹í•´ì‹œ} -- production_app.py

# ë°©ë²• 3: ë¡¤ë°± ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš©
./scripts/rollback.sh
```

---

## ìƒˆ ëŒ€í™” ì‹œìž‘ ì‹œ ì°¸ê³ ì‚¬í•­

1. **ì´ íŒŒì¼(DEVLOG.md)ì„ ë¨¼ì € ì½ì–´ì£¼ì„¸ìš”**
2. **production_app.pyì˜ íŒŒì¼ í—¤ë” ì£¼ì„ í™•ì¸**
3. **README.mdì—ì„œ ì „ì²´ ê¸°ëŠ¥ ê°œìš” í™•ì¸**
4. **git logë¡œ ìµœê·¼ ë³€ê²½ì‚¬í•­ í™•ì¸**

### ë¹ ë¥¸ ì»¨í…ìŠ¤íŠ¸ ë³µì› ëª…ë ¹

```bash
# í”„ë¡œì íŠ¸ êµ¬ì¡° í™•ì¸
ls -la /home/orangepi/dual_npu_demo/

# ìµœê·¼ Git ì»¤ë°‹ í™•ì¸
cd /home/orangepi/dual_npu_demo && git log --oneline -10

# ê°œë°œ ë¡œê·¸ í™•ì¸
cat /home/orangepi/dual_npu_demo/DEVLOG.md

# ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰
cd /home/orangepi/dual_npu_demo && ./run_production.sh
```

---

## ë¡œê·¸ ì—…ë°ì´íŠ¸ ê¸°ë¡

| ë‚ ì§œ | ìž‘ì„±ìž | ë‚´ìš© |
|------|--------|------|
| 2025-12-28 | Claude AI | ì´ˆê¸° DEVLOG.md ìƒì„± |
| 2025-12-28 | Claude AI | ë²„ì „ ê´€ë¦¬ ì‹œìŠ¤í…œ ì¶”ê°€ (Git + ë°±ì—… ìŠ¤í¬ë¦½íŠ¸) |
| 2025-12-28 | Claude AI | ê°œë°œ ì§€ì¹¨ì„œ(DEV_GUIDELINES.md) ìƒì„± |
| 2025-12-28 | Claude AI | ë³´ì•ˆ ì‹œìŠ¤í…œ ì¶”ê°€ (pre-commit hook, security_check.sh) |
| 2025-12-28 | Claude AI | ìžë™ ì„¤ëª… í”„ë¡¬í”„íŠ¸ ë‹¤êµ­ì–´ ì§€ì› ì¶”ê°€ |
| 2025-12-28 | Claude AI | GitHub ì €ìž¥ì†Œ ìƒì„± ë° í‘¸ì‹œ (JinsongRoh/dual_npu_demo) |
| 2025-12-28 | Claude AI | RK3588 ë¡œì»¬ VLM ëª¨ë¸ ì§€ì› ì¶”ê°€ (9ì¢…) |
| 2025-12-28 | Claude AI | VLM ëª¨ë¸ ë‹¤ìš´ë¡œë“œ (Qwen2-VL-2B, MiniCPM-V-2.6) |
| 2025-12-28 | Claude AI | RKNPU 0.9.8 ë“œë¼ì´ë²„ ì„¤ì¹˜ ì¤€ë¹„ |
| 2025-12-28 | Claude AI | í”„ë¡œì íŠ¸ ì™¸ìž¥ ë“œë¼ì´ë¸Œë¡œ ì´ë™ (/mnt/external/) |
| 2025-12-28 | Claude AI | RKNPU 0.9.8 ë“œë¼ì´ë²„ ì„¤ì¹˜ ì™„ë£Œ ë° í…ŒìŠ¤íŠ¸ |
| 2025-12-28 | Claude AI | RKLLM 1.2.1 ëŸ°íƒ€ìž„ ì„¤ì¹˜ (ezrknn-llm) |
| 2025-12-28 | Claude AI | í…ìŠ¤íŠ¸ LLM í…ŒìŠ¤íŠ¸ ì„±ê³µ (Qwen3-0.6B, 31 tokens/s) |
| 2025-12-29 | Claude AI | TTS ì˜¤ë””ì˜¤ ì¶œë ¥ ì‹œìŠ¤í…œ êµ¬ì„± (HDMI1, USB ë§ˆì´í¬) |
| 2025-12-29 | Claude AI | PulseAudio/ALSA dmix ì„¤ì • ì™„ë£Œ |

---

## ìƒˆ AI ëŒ€í™” ì‹œìž‘ ì‹œ ë³µì‚¬í•  í”„ë¡¬í”„íŠ¸

```
ì´ì „ ê°œë°œ ëŒ€í™”ê°€ ì¤‘ë‹¨ë˜ì–´ ìƒˆë¡œ ì‹œìž‘í•©ë‹ˆë‹¤.

í”„ë¡œì íŠ¸ ìœ„ì¹˜: /home/orangepi/dual_npu_demo/

ë¨¼ì € ë‹¤ìŒ íŒŒì¼ë“¤ì„ ì½ì–´ì„œ ì´ì „ ê°œë°œ ë‚´ìš©ì„ íŒŒì•…í•´ì£¼ì„¸ìš”:
1. DEVLOG.md - ê°œë°œ ë¡œê·¸ (í•„ìˆ˜)
2. README.md - í”„ë¡œì íŠ¸ ê°œìš”
3. git log --oneline -10 - ìµœê·¼ ë³€ê²½ì‚¬í•­

ì´ì „ ê°œë°œ ë‚´ìš©ì„ íŒŒì•…í•œ í›„, [ì—¬ê¸°ì— ìš”ì²­ì‚¬í•­ ìž‘ì„±] ìž‘ì—…ì„ ì§„í–‰í•´ì£¼ì„¸ìš”.
```

---

> **ì°¸ê³ **: ì´ ë¡œê·¸ íŒŒì¼ì€ ê°œë°œ ì§„í–‰ ì‹œë§ˆë‹¤ ì—…ë°ì´íŠ¸í•˜ì—¬ ê°œë°œ ì—°ì†ì„±ì„ ìœ ì§€í•˜ì„¸ìš”.
>
> **ì¤‘ìš”**: ì£¼ìš” ê¸°ëŠ¥ ê°œë°œ ì™„ë£Œ í›„ ë°˜ë“œì‹œ `./scripts/backup.sh` ì‹¤í–‰í•˜ì—¬ ë°±ì—…í•˜ì„¸ìš”.
